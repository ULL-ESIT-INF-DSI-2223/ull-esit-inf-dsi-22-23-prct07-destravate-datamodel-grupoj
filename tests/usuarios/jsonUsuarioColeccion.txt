import 'mocha';
import { expect } from "chai";
import { Usuario, Coleccion } from "../../src/usuarios/usuario";
import { JsonUsuarioColeccion } from '../../src/usuarios/jsonUsuarioColeccion';

describe('Tests para la clase JsonUsuarioColeccion', () => {
  it('Se puede crear un objeto de la clase JsonUsuarioColeccion', () => {
    let usuario1: Usuario = new Usuario(1, 'Sharon', 'Bicicleta', [5], [[1]], [25, 9, 'Junio', 2023], [1, 3], [1], [['02-03-22', 3], ['03-05-23', 1]]);
    expect(new JsonUsuarioColeccion([usuario1])).not.to.be.undefined;
    expect(new JsonUsuarioColeccion([])).not.to.be.undefined;
  })

  it('Tests para método addUsuario', () => {
    let coleccion = new JsonUsuarioColeccion([]);

    coleccion.addUsuario('Sharon', 'Bicicleta', [5], [[1]], [25, 9, 'Junio', 2023], [1, 3], [1], [['02-03-22', 3], ['03-05-23', 1]])
    coleccion.addUsuario('Ivan', 'Correr', [5, 2], [[1], [2, 3]], [12, 256, 'Enero', 2021], [2, 3], [2], [['01-04-21', 1], ['03-05-23', 4]])
  })
  it('Tests para método removeUsuario', () => {
    let usuario1: Usuario = new Usuario(1, 'Sharon', 'Bicicleta', [5], [[1]], [25, 9, 'Junio', 2023], [1, 3], [1], [['02-03-22', 3], ['03-05-23', 1]])
    let usuario2: Usuario = new Usuario(2, 'Ivan', 'Correr', [5, 2], [[1], [2, 3]], [12, 256, 'Enero', 2021], [2, 3], [2], [['01-04-21', 1], ['03-05-23', 4]])
    let coleccion = new JsonUsuarioColeccion([usuario1, usuario2]);

    expect(coleccion.removeUsuario(1)).to.be.true;
    expect(coleccion.removeUsuario(3)).to.be.false;
    expect(coleccion.removeUsuario(2)).to.be.true;
  })
  it('Tests para método modifyUsuario', () => {
    let usuario1: Usuario = new Usuario(1, 'Sharon', 'Bicicleta', [5], [[1]], [25, 9, 'Junio', 2023], [1, 3], [1], [['02-03-22', 3], ['03-05-23', 1]])
    let usuario2: Usuario = new Usuario(2, 'Ivan', 'Correr', [5, 2], [[1], [2, 3]], [12, 256, 'Enero', 2021], [2, 3], [2], [['01-04-21', 1], ['03-05-23', 4]])
    let coleccion = new JsonUsuarioColeccion([usuario1, usuario2]);

    expect(coleccion.modifyUsuario(1, 'Nombre', 'Pepe')).to.be.true;
    expect(coleccion.modifyUsuario(3, 'Actividad (Correr o Bicicleta)', 'Bicicleta')).to.be.false;
    expect(coleccion.modifyUsuario(1, 'Actividad (Correr o Bicicleta)', 'Correr')).to.be.true;
    expect(coleccion.modifyUsuario(2, 'Actividad (Correr o Bicicleta)', 'Bicicleta')).to.be.true;
    expect(coleccion.modifyUsuario(1, 'Amigos APP (1, 2, 3)', '2')).to.be.true;
    expect(coleccion.modifyUsuario(2, 'Grupo de Amigos ([1], [2, 3])', '[1], [2, 3]')).to.be.true;
    expect(coleccion.modifyUsuario(3, 'Entrenamiento (km, desnivel, mes, año)', '1, 2, Mayo, 3')).to.be.false;
    expect(coleccion.modifyUsuario(1, 'Rutas Favoritas (1, 2, 3)', '2')).to.be.true;
    expect(coleccion.modifyUsuario(2, 'Retos Activos (1, 2, 3)', '1, 2, 3')).to.be.true;
    expect(coleccion.modifyUsuario(2, 'Historico de Rutas ([02-03-22, 3], [03-05-23, 1])', '[03-05-23, 1]')).to.be.true;
  })
})